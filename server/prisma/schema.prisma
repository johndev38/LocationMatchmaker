// Modèle de contrat entre un locataire et un propriétaire
model Contract {
  id        Int      @id @default(autoincrement())
  offerId   Int      @unique // Relation un-à-un avec l'offre
  tenantId  String   // ID du locataire
  landlordId String  // ID du propriétaire
  propertyId Int     // ID de la propriété concernée
  price     Float    // Prix convenu
  startDate DateTime // Date de début du contrat
  endDate   DateTime // Date de fin du contrat
  status    String   // Status du contrat (active, terminated, etc.)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  offer     PropertyOffer @relation(fields: [offerId], references: [id])
  property  Property      @relation(fields: [propertyId], references: [id])
  tenant    User          @relation("TenantContracts", fields: [tenantId], references: [id])
  landlord  User          @relation("LandlordContracts", fields: [landlordId], references: [id])
}

// ... mise à jour du modèle User pour inclure les relations avec les contrats

model User {
  // ... existing fields ...
  
  // Relations avec les contrats
  tenantContracts    Contract[] @relation("TenantContracts")
  landlordContracts  Contract[] @relation("LandlordContracts")
}

// ... mise à jour du modèle PropertyOffer pour inclure la relation avec les contrats

model PropertyOffer {
  // ... existing fields ...
  
  // Relation avec les contrats
  contract Contract?
} 